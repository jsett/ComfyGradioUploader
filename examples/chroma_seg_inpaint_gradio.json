{"id":"9752d6c6-3129-451b-a1e4-c332f17f92d8","revision":0,"last_node_id":27,"last_link_id":38,"nodes":[{"id":14,"type":"Note","pos":[170,570],"size":[260,90],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["min_padding 1 is supposed to be the official way to inference chroma but I think the results are better with min_padding 0"],"color":"#432","bgcolor":"#653"},{"id":11,"type":"T5TokenizerOptions","pos":[170,430],"size":[270,82],"flags":{},"order":10,"mode":4,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":14},{"localized_name":"min_padding","name":"min_padding","type":"INT","widget":{"name":"min_padding"},"link":null},{"localized_name":"min_length","name":"min_length","type":"INT","widget":{"name":"min_length"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[12,20]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"T5TokenizerOptions"},"widgets_values":[1,0]},{"id":13,"type":"UNETLoader","pos":[-221.24722290039062,114.00627899169922],"size":[350,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[21]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"UNETLoader","models":[{"name":"chroma-unlocked-v33.safetensors","url":"https://huggingface.co/lodestones/Chroma/resolve/main/chroma-unlocked-v33.safetensors","directory":"diffusion_models"}]},"widgets_values":["chroma-unlocked-v33.safetensors","default"],"color":"#322","bgcolor":"#533"},{"id":17,"type":"Note","pos":[170,110],"size":[268.4952392578125,107.76524353027344],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This FreSca node makes anime images look better, if you are generating realistic images I recommend disabling it (CTRL-B)"],"color":"#432","bgcolor":"#653"},{"id":16,"type":"FreSca","pos":[170,270],"size":[270,110],"flags":{},"order":9,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":21},{"localized_name":"scale_low","name":"scale_low","type":"FLOAT","widget":{"name":"scale_low"},"link":null},{"localized_name":"scale_high","name":"scale_high","type":"FLOAT","widget":{"name":"scale_high"},"link":null},{"localized_name":"freq_cutoff","name":"freq_cutoff","type":"INT","widget":{"name":"freq_cutoff"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[22]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"FreSca"},"widgets_values":[1,2.5000000000000004,30]},{"id":10,"type":"CLIPLoader","pos":[-221.24722290039062,248.00628662109375],"size":[350,110],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[14]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CLIPLoader","models":[{"name":"t5xxl_fp8_e4m3fn_scaled.safetensors","url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors","directory":"text_encoders"}]},"widgets_values":["t5xxl_fp8_e4m3fn_scaled.safetensors","chroma","default"],"color":"#322","bgcolor":"#533"},{"id":20,"type":"CLIPLoader","pos":[-220,410],"size":[350,110],"flags":{},"order":4,"mode":4,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CLIPLoader","models":[{"name":"t5xxl_fp16.safetensors","url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors","directory":"text_encoders"}]},"widgets_values":["t5xxl_fp16.safetensors","chroma","default"],"color":"#322","bgcolor":"#533"},{"id":19,"type":"MarkdownNote","pos":[-700,70],"size":[450,440],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["[English]\nChroma is still continuously updating their model. You can visit [here](https://huggingface.co/lodestones/Chroma/tree/main) to get the latest version for download. For other models, if you have used models related to Flux, then you probably don't need to download them again.\n\n[‰∏≠Êñá]\nChroma ËøòÂú®‰∏çÊñ≠Êõ¥Êñ∞‰ªñ‰ª¨ÁöÑÊ®°ÂûãÔºå‰Ω†ÂèØ‰ª•ËÆøÈóÆ [ËøôÈáå](https://huggingface.co/lodestones/Chroma/tree/main)Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑÁâàÊú¨‰∏ãËΩΩÔºåÂØπ‰∫éÂÖ∂ÂÆÉÁöÑÊ®°ÂûãÔºåÂ¶ÇÊûú‰Ω†Êúâ‰ΩøÁî®Ëøá Flux Áõ∏ÂÖ≥ÁöÑÊ®°ÂûãÔºåÈÇ£‰πà‰Ω†Â∫îËØ•‰∏çÁî®ÈáçÂ§ç‰∏ãËΩΩ‰∫Ü\n\n## Diffusion model\n\n[chroma-unlocked-v33.safetensors\n](https://huggingface.co/lodestones/Chroma/resolve/main/chroma-unlocked-v33.safetensors)\n\n## Text encoder\n\n[t5xxl_fp16.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors)\n\n**For low vram | ‰ΩéÊòæÂ≠ò**  : [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors)\n\n## VAE\n\n[ae.safetensors](https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors)\n\n```\nüìÇ ComfyUI/\n‚îú‚îÄ üìÇ models/\n‚îÇ   ‚îú‚îÄ üìÇ diffusion_models/\n‚îÇ   ‚îÇ     ‚îî‚îÄ‚îÄ chroma-unlocked-v33.safetensors # or latest model\n‚îÇ   ‚îú‚îÄ üìÇ text_encoders/\n‚îÇ   ‚îÇ     ‚îî‚îÄ‚îÄ t5xxl_fp8_e4m3fn_scaled.safetensors  # or fp16\n‚îÇ   ‚îî‚îÄ üìÇ vae/\n‚îÇ            ‚îî‚îÄ‚îÄ  ae.safetensors\n```\n"],"color":"#432","bgcolor":"#653"},{"id":8,"type":"VAEDecode","pos":[772.984130859375,626.699951171875],"size":[140,46],"flags":{"collapsed":false},"order":18,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":17}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[24]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":21,"type":"GradioUploader","pos":[1145.342529296875,464.7414855957031],"size":[270,82],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":24},{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"folder","name":"folder","type":"STRING","widget":{"name":"folder"},"link":null}],"outputs":[{"localized_name":"Status","name":"Status","shape":6,"type":"STRING","links":null}],"properties":{"aux_id":"jsett/ComfyGradioUploader","ver":"1b3b311c62e19317e7e6303d953a1c761ac267b0","Node name for S&R":"GradioUploader"},"widgets_values":["https://333f6d52f791cdbdf6.gradio.live","chroma"]},{"id":7,"type":"CLIPTextEncode","pos":[470,320],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":12},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[26]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CLIPTextEncode"},"widgets_values":["low quality, bad anatomy, extra digits, missing digits, extra limbs, missing limbs"],"color":"#323","bgcolor":"#535"},{"id":15,"type":"VAELoader","pos":[-220,570],"size":[350,60],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[17,29]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"VAELoader","models":[{"name":"ae.safetensors","url":"https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors","directory":"vae"}]},"widgets_values":["ae.safetensors"],"color":"#322","bgcolor":"#533"},{"id":24,"type":"Note","pos":[571.560791015625,-195.0054473876953],"size":[210,88],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["A young blonde women, (blue eyes:0.6), german, nude, in a vibrant jungle during the day, surrounded by lush plants with colorful leaves and scattered pink flowers. The sky above is bright blue, and sunlight filters through the foliage. The scene is cinematic, outdoors, focused on the women, High detail, natural lighting.\n"],"color":"#432","bgcolor":"#653"},{"id":3,"type":"KSampler","pos":[475.034912109375,589.9293823242188],"size":[280,262],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":22},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":30},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":31},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":32},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"KSampler"},"widgets_values":[122278759430287,"randomize",30,4,"euler","simple",1]},{"id":22,"type":"InpaintModelConditioning","pos":[164.8444366455078,735.33056640625],"size":[270,138],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":25},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":26},{"localized_name":"vae","name":"vae","type":"VAE","link":29},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":27},{"localized_name":"mask","name":"mask","type":"MASK","link":34},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[30]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[31]},{"localized_name":"latent","name":"latent","type":"LATENT","links":[32]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":23,"type":"LoadImage","pos":[-522.7366333007812,743.7014770507812],"size":[274.080078125,314],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[27,33,35]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_00148_.png","image"]},{"id":25,"type":"ClothesSegment","pos":[-194.59051513671875,728.7246704101562],"size":[320,626],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"Images","name":"images","type":"IMAGE","link":33},{"localized_name":"Background Color","name":"background_color","shape":7,"type":"COLOR","link":null},{"localized_name":"Hat","name":"Hat","shape":7,"type":"BOOLEAN","widget":{"name":"Hat"},"link":null},{"localized_name":"Hair","name":"Hair","shape":7,"type":"BOOLEAN","widget":{"name":"Hair"},"link":null},{"localized_name":"Face","name":"Face","shape":7,"type":"BOOLEAN","widget":{"name":"Face"},"link":null},{"localized_name":"Sunglasses","name":"Sunglasses","shape":7,"type":"BOOLEAN","widget":{"name":"Sunglasses"},"link":null},{"localized_name":"Upper Clothes","name":"Upper-clothes","shape":7,"type":"BOOLEAN","widget":{"name":"Upper-clothes"},"link":null},{"localized_name":"Skirt","name":"Skirt","shape":7,"type":"BOOLEAN","widget":{"name":"Skirt"},"link":null},{"localized_name":"Dress","name":"Dress","shape":7,"type":"BOOLEAN","widget":{"name":"Dress"},"link":null},{"localized_name":"Belt","name":"Belt","shape":7,"type":"BOOLEAN","widget":{"name":"Belt"},"link":null},{"localized_name":"Pants","name":"Pants","shape":7,"type":"BOOLEAN","widget":{"name":"Pants"},"link":null},{"localized_name":"Left Arm","name":"Left-arm","shape":7,"type":"BOOLEAN","widget":{"name":"Left-arm"},"link":null},{"localized_name":"Right Arm","name":"Right-arm","shape":7,"type":"BOOLEAN","widget":{"name":"Right-arm"},"link":null},{"localized_name":"Left Leg","name":"Left-leg","shape":7,"type":"BOOLEAN","widget":{"name":"Left-leg"},"link":null},{"localized_name":"Right Leg","name":"Right-leg","shape":7,"type":"BOOLEAN","widget":{"name":"Right-leg"},"link":null},{"localized_name":"Bag","name":"Bag","shape":7,"type":"BOOLEAN","widget":{"name":"Bag"},"link":null},{"localized_name":"Scarf","name":"Scarf","shape":7,"type":"BOOLEAN","widget":{"name":"Scarf"},"link":null},{"localized_name":"Left Shoe","name":"Left-shoe","shape":7,"type":"BOOLEAN","widget":{"name":"Left-shoe"},"link":null},{"localized_name":"Right Shoe","name":"Right-shoe","shape":7,"type":"BOOLEAN","widget":{"name":"Right-shoe"},"link":null},{"localized_name":"Background","name":"Background","shape":7,"type":"BOOLEAN","widget":{"name":"Background"},"link":null},{"localized_name":"Processing Resolution","name":"process_res","shape":7,"type":"INT","widget":{"name":"process_res"},"link":null},{"localized_name":"Mask Blur","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null},{"localized_name":"Mask Offset","name":"mask_offset","shape":7,"type":"INT","widget":{"name":"mask_offset"},"link":null},{"localized_name":"Invert Output","name":"invert_output","shape":7,"type":"BOOLEAN","widget":{"name":"invert_output"},"link":null},{"localized_name":"Background","name":"background","shape":7,"type":"COMBO","widget":{"name":"background"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[36]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[34,37]},{"localized_name":"MASK IMAGE","name":"MASK_IMAGE","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"2.4.0","Node name for S&R":"ClothesSegment"},"widgets_values":[false,true,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,512,5,10,false,"Alpha"],"color":"#222e40","bgcolor":"#364254"},{"id":26,"type":"AILab_ImageCombiner","pos":[173.1650390625,934.3533935546875],"size":[279.96063232421875,194],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"Foreground","name":"foreground","type":"IMAGE","link":36},{"localized_name":"Background","name":"background","type":"IMAGE","link":35},{"localized_name":"Foreground Mask","name":"foreground_mask","shape":7,"type":"MASK","link":37},{"localized_name":"Mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"Foreground Opacity","name":"foreground_opacity","type":"FLOAT","widget":{"name":"foreground_opacity"},"link":null},{"localized_name":"Foreground Scale","name":"foreground_scale","type":"FLOAT","widget":{"name":"foreground_scale"},"link":null},{"localized_name":"Position X","name":"position_x","type":"INT","widget":{"name":"position_x"},"link":null},{"localized_name":"Position Y","name":"position_y","type":"INT","widget":{"name":"position_y"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[38]},{"localized_name":"WIDTH","name":"WIDTH","type":"INT","links":null},{"localized_name":"HEIGHT","name":"HEIGHT","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-rmbg","ver":"2.4.0","Node name for S&R":"AILab_ImageCombiner"},"widgets_values":["subtract",1,1,50,50],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":27,"type":"PreviewImage","pos":[162.084228515625,1177.3065185546875],"size":[140,246],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":38}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":6,"type":"CLIPTextEncode","pos":[470,110],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":20},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[25]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CLIPTextEncode"},"widgets_values":["a photograph of a young women, straight blonde hair"],"color":"#232","bgcolor":"#353"}],"links":[[7,3,0,8,0,"LATENT"],[12,11,0,7,0,"CLIP"],[14,10,0,11,0,"CLIP"],[17,15,0,8,1,"VAE"],[20,11,0,6,0,"CLIP"],[21,13,0,16,0,"MODEL"],[22,16,0,3,0,"MODEL"],[24,8,0,21,0,"IMAGE"],[25,6,0,22,0,"CONDITIONING"],[26,7,0,22,1,"CONDITIONING"],[27,23,0,22,3,"IMAGE"],[29,15,0,22,2,"VAE"],[30,22,0,3,1,"CONDITIONING"],[31,22,1,3,2,"CONDITIONING"],[32,22,2,3,3,"LATENT"],[33,23,0,25,0,"IMAGE"],[34,25,1,22,4,"MASK"],[35,23,0,26,1,"IMAGE"],[36,25,0,26,0,"IMAGE"],[37,25,1,26,2,"MASK"],[38,26,0,27,0,"IMAGE"]],"groups":[{"id":1,"title":"Step1: load models here","bounding":[-230,40,370,620],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Step3: prompts","bounding":[460,40,460,480],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Optional","bounding":[160,40,290,633.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Sampling & Decoding","bounding":[460,530,460,340],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.7221734567834229,"offset":[705.1371860499298,-8.496430639470047]},"frontendVersion":"1.21.3"},"version":0.4}